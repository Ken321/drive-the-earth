/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={1e3(e){e.exports="assets/images/defeated.mp4"},9404(e){e.exports="assets/images/earth.png"},3730(e){e.exports="assets/images/salute.mp4"},102(e){e.exports="assets/images/victory.mp4"},3017(e){e.exports="assets/sky-models/asteroid.glb"},4199(e){e.exports="assets/sky-models/asteroid2.glb"},843(e){e.exports="assets/sky-models/calisto.glb"},6673(e){e.exports="assets/sky-models/character-fly.glb"},4685(e){e.exports="assets/sky-models/cube.glb"},900(e){e.exports="assets/sky-models/europe.glb"},8382(e){e.exports="assets/sky-models/ganymede.glb"},9138(e){e.exports="assets/sky-models/io.glb"},2463(e){e.exports="assets/sky-models/jupiter.glb"},7789(e){e.exports="assets/sky-models/mars.glb"},363(e){e.exports="assets/sky-models/mercury.glb"},7217(e){e.exports="assets/sky-models/moon.glb"},2323(e){e.exports="assets/sky-models/neptune.glb"},6818(e){e.exports="assets/sky-models/pluto.glb"},2210(e){e.exports="assets/sky-models/puller.glb"},8447(e){e.exports="assets/sky-models/saturn.glb"},5273(e){e.exports="assets/sky-models/stage1-position.glb"},6600(e){e.exports="assets/sky-models/stage2-position.glb"},8063(e){e.exports="assets/sky-models/stage3-position.glb"},5646(e){e.exports="assets/sky-models/uranus.glb"},6443(e){e.exports="assets/sky-models/venus.glb"},97(e){e.exports="assets/sky-sounds/collision.mp3"},8221(e){e.exports="assets/sky-sounds/engine.mp3"},7652(e){e.exports="assets/sky-sounds/finish-music.mp3"},5596(e){e.exports="assets/sky-sounds/music.mp3"},6599(e){e.exports="assets/sky-sounds/point.mp3"},1480(e){e.exports="assets/sky-textures/space.png"},9472(e,t,n){"use strict";n.d(t,{A:()=>z});var r=n(8645),a=n.n(r),i=n(278),o=n.n(i),s=n(3021),c=n.n(s),u=new URL(n(8104),n.b),l=new URL(n(3111),n.b),d=new URL(n(7023),n.b),p=new URL(n(1150),n.b),h=new URL(n(2149),n.b),f=new URL(n(3052),n.b),m=new URL(n(3219),n.b),v=new URL(n(8025),n.b),b=new URL(n(1895),n.b),g=new URL(n(4853),n.b),w=new URL(n(1909),n.b),y=o()(a()),x=c()(u),E=c()(l),k=c()(d),T=c()(p),M=c()(h),L=c()(f),C=c()(m),V=c()(v),R=c()(b),S=c()(g),H=c()(w);y.push([e.id,`* {\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: "Avenir Next", sans-serif;\n}\n\n#loadBackground {\n  background-color: #0d0e1c;\n}\n\n#requestingCameraPermissions {\n  background-color: transparent !important;\n  font-family: "Avenir Next", sans-serif;\n  font-weight: bold;\n  font-size: 1.5rem;\n}\n\n#requestingCameraIcon {\n  height: 5vh !important;\n  margin: 3vh auto 3vh !important;\n}\n\n.prompt-box-8w {\n  background-color: #fff;\n  color: rgba(0, 0, 0, 0.8);\n  box-shadow: 0 0 40px rgba(0, 221, 255, 1);\n}\n.prompt-button-8w {\n  background-color: rgba(0, 0, 0, 0.15) !important;\n}\n\n.button-primary-8w {\n  background-color: rgba(0, 158, 182, 1) !important;\n}\n\n.permissionIconIos img {\n  margin: 0 auto;\n  height: 8vh;\n}\n\n.sky-coaching-overlay-animation {\n  width: 30vw;\n  margin: 0 auto 16px;\n}\n\n#startView {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  display: block;\n  background: #0d0e1c;\n  z-index: 413;\n}\n\n#startViewFlash {\n  width: 100%;\n  height: 100%;\n  background-image: url(${x});\n  background-repeat: no-repeat;\n  background-size: 100px 132px;\n  background-position: center center;\n}\n\n#startViewMain {\n  position: relative;\n  display: none;\n  width: 100%;\n  height: 100%;\n}\n\n#startViewMainInner {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: 9fr 1fr 2fr;\n  grid-column-gap: 0;\n  grid-row-gap: 0;\n}\n\n#startViewTitle {\n  display: block;\n  width: 100%;\n  height: 100%;\n}\n\n#startViewTitleImage {\n  width: 100%;\n  height: 70%;\n  background-image: url(${E});\n  background-repeat: no-repeat;\n  background-size: 40%;\n  background-position: 50% 80%;\n}\n\n#startViewTitleLogo {\n  width: 100%;\n  height: 30%;\n  background-image: url(${k});\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center center;\n}\n\n.startViewExp {\n  display: none;\n  width: 100%;\n  height: 100%;\n  padding: 80vw 8% 0;\n  color: #fff;\n  font-family: sans-serif;\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center top;\n}\n\n.startViewExpTitle {\n  font-size: 2.5rem;\n  line-height: 1;\n  font-weight: bold;\n  margin: 0 0 16px;\n  color: #fff;\n}\n\n.startViewExpText {\n  font-size: 1rem;\n  line-height: 1.7;\n  color: rgba(255,255,255,0.4);\n}\n\n#startViewExp1 {\n  background-image: url(${T});\n}\n\n#startViewExp2 {\n  background-image: url(${M});\n}\n\n#startViewExp3 {\n  background-image: url(${L});\n}\n\n#startViewExp4 {\n  background-image: url(${C});\n}\n\n#startViewCarousel {\n  display: flex;\n  justify-content: center;\n  margin: 8px 0;\n}\n\n.startViewCarouselItem {\n  background-color: rgba(255,255,255,0.5);\n  width: 12px;\n  height: 12px;\n  border-radius: 6px;\n  margin: 0 8px;\n}\n\n.startViewCarouselItem.active {\n  background-color: rgba(255,255,255,0.8);\n}\n\n#startButton {\n  width: 84%;\n  height: 60px;\n  margin: 8px auto auto;\n  font-family: sans-serif;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 60px;\n  text-align: center;\n  color: #0d0e1c;\n  background: rgb(0, 221, 255);\n  box-shadow: 0 0 10px rgba(0, 221, 255, 1);\n  border-radius: 30px;\n}\n\n@keyframes attention {\n\t0% {\ttransform: scale(1);}\n\t50% {\ttransform: scale(1.1);}\n\t100% {\ttransform: scale(1);}\n}\n\n#finishView {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  display: block;\n  background: #0d0e1c;\n  z-index: 413;\n  overflow-y: scroll;\n  display: none;\n}\n\n#finishViewMain {\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: 160px 6fr 4fr 2fr;\n  grid-column-gap: 0px;\n  grid-row-gap: 0px;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  padding: 24px;\n}\n\n#finishViewMain.finishAll {\n  grid-template-rows: 160px 6fr 4fr 5fr 2fr;\n  height: auto;\n}\n\n#finishViewTitle {\n  background-image: url(${V});\n  background-repeat: no-repeat;\n  background-size: 237.5px 160px;\n  background-position: center center;\n}\n\n#finishViewVideo {\n  width: 40%;\n  height: auto;\n  margin: 0 auto;\n  display: block;\n}\n\n.finishAll #finishViewVideo {\n  display: none;\n}\n\n#finishViewVideo2 {\n  width: 32%;\n  height: auto;\n  margin: 0 auto;\n  display: none;\n}\n\n.finishAll #finishViewVideo2 {\n  display: block;\n}\n\n.finishViewTimeStage {\n  display: flex;\n  justify-content: space-between;\n  max-width: 48%;\n  margin: 0 auto;\n  font-family: sans-serif;\n  font-size: 0.8rem;\n  color: #fff;\n}\n\n.finishViewTimeStageTitle {\n  margin: 0 0 4px;\n  text-shadow: 0 0 16px rgba(0, 221, 255, 1);\n}\n\n.finishViewTimeStageNum {\n  margin: 0 0 4px;\n  text-shadow: 0 0 16px rgba(0, 221, 255, 1);\n}\n\n#finishViewTimeTitle {\n  font-family: sans-serif;\n  font-size: 1.2rem;\n  line-height: 1;\n  font-weight: bold;\n  color: #fff;\n  text-shadow: 0 0 16px rgba(0, 221, 255, 1);\n  margin: 16px 0 0;\n}\n\n#finishViewTimeNum {\n  font-family: sans-serif;\n  font-size: 3.2rem;\n  line-height: 1;\n  font-weight: bold;\n  color: #fff;\n  text-shadow: 0 0 10px rgba(0, 221, 255, 1);\n  margin: 0;\n}\n\n#finishViewCredit {\n  color: rgba(255,255,255,0.5);\n  font-size: 0.6rem;\n  width: 100%;\n  height: 100%;\n  word-break: break-all;\n  display: none;\n}\n\n.finishAll #finishViewCredit {\n  display: block;\n}\n\n#continueButton {\n  width: 84%;\n  height: 60px;\n  margin: 8px auto auto;\n  font-family: sans-serif;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 60px;\n  text-align: center;\n  color: #0d0e1c;\n  background: rgb(0, 221, 255);\n  box-shadow: 0 0 10px rgba(0, 221, 255, 1);\n  border-radius: 30px;\n}\n\n#failedView {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: #0d0e1c;\n  z-index: 413;\n  display: none;\n}\n\n\n#failedViewMain {\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: 139px 16fr 4fr;\n  grid-column-gap: 0px;\n  grid-row-gap: 0px;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  padding: 64px 24px 24px;\n}\n\n#failedViewTitle {\n  background-image: url(${R});\n  background-repeat: no-repeat;\n  background-size: 237.5px 89px;\n  background-position: center center;\n}\n\n#failedViewVideo {\n  width: 40%;\n  height: auto;\n  margin: 0 auto;\n}\n\n#restartButton {\n  width: 84%;\n  height: 60px;\n  margin: 8px auto auto;\n  font-family: sans-serif;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 60px;\n  text-align: center;\n  color: #0d0e1c;\n  background: rgb(0, 221, 255);\n  box-shadow: 0 0 10px rgba(0, 221, 255, 1);\n  border-radius: 30px;\n}\n\n\n#invertMaskButton {\n  display: block;\n  position: fixed;\n  top: calc(3rem + 184px);\n  right: 24px;\n  z-index: 10;\n  opacity: 0;\n}\n\n\n#invertMaskButton > div {\n  width: 56px;\n  height: 56px;\n  background-image: url(${S});\n  background-size: contain;\n  background-repeat: no-repeat;\n  margin: 0 auto 8px;\n}\n\n#invertMaskButton > p {\n  font-family: sans-serif;\n  font-size: 10px;\n  font-weight: bold;\n  line-height: 10px;\n  color: white;\n  text-align: center;\n  margin-top: 0;\n}\n\n#recenterButton {\n  display: block;\n  position: fixed;\n  top: calc(3rem + 84px);\n  right: 24px;\n  z-index: 10;\n}\n\n#recenterButton > div {\n  width: 56px;\n  height: 56px;\n  background-image: url(${H});\n  background-size: contain;\n  background-repeat: no-repeat;\n  margin: 0 auto 8px;\n}\n\n#recenterButton > p {\n  font-family: sans-serif;\n  font-size: 10px;\n  font-weight: bold;\n  line-height: 10px;\n  color: white;\n  text-align: center;\n  margin-top: 0;\n}\n\n/* joystick */\n.joystick {\n  position: fixed;\n  bottom: 0.5rem;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 10;\n}\n.joystick-frame {\n  width: 130px;\n  height: 130px;\n  border-radius: 100rem;\n  border: 2px white solid;\n  position: relative;\n}\n.joystick-ball {\n  width: 60px;\n  height: 60px;\n  background: white;\n  border-radius: 100rem;\n  border: 2px white solid;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n/* status bar */\n#statusBar {\n  position: fixed;\n  top: 3rem;\n  left: 2rem;\n  right: 2rem;\n  height: 60px;\n  padding: 20px;\n  background: rgba(255, 255, 255, 0.2);\n  border-radius: 30px;\n  z-index: 10;\n}\n\n#statusBarInner {\n  position: relative;\n}\n\n#hpBar {\n  position: absolute;\n  width: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: rgb(0, 221, 255);\n  box-shadow: 0 0 10px rgba(0, 221, 255, 1);\n  opacity: 0.5;\n  z-index: 2;\n}\n\n#hpGet {\n  position: absolute;\n  height: 20px;\n  border-radius: 0 10px 10px 0;\n  background: rgb(0, 255, 0);\n  box-shadow: 0 0 10px rgb(74, 255, 116);\n  display: none;\n  z-index: 3;\n}\n\n#hpLost {\n  position: absolute;\n  height: 20px;\n  border-radius: 0 10px 10px 0;\n  background: rgba(255, 0, 0, 0.8);\n  display: none;\n  z-index: 1;\n}\n\n@keyframes getSlide {\n  0% {\n    width: 0%;\n  }\n\n  100% {\n    width: calc(5% + 8px);\n  }\n}\n\n@keyframes lostSlide {\n  0% {\n    width: calc(5% + 8px);\n  }\n\n  100% {\n    width: 0%;\n  }\n}\n\n@keyframes lostShake {\n\t0% {\ttransform: translate(0, 0);}\n\t5% {\ttransform: translate(-5px, -0);}\n\t10% {\ttransform: translate(5px, 0);}\n\t15% {\ttransform: translate(-5px, -0);}\n\t20% {\ttransform: translate(5px, 0);}\n\t25% {\ttransform: translate(-5px, -0);}\n\t30% {\ttransform: translate(0, 0);}\n\t100% {\ttransform: translate(0, 0);}\n}`,""]);const z=y},7609(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(8645),a=n.n(r),i=n(278),o=n.n(i)()(a());o.push([e.id,"*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}:where([hidden]:not([hidden='until-found'])){display:none!important}:where(html){-webkit-text-size-adjust:none;color-scheme:dark light}@supports not (min-block-size:100dvb){:where(html){block-size:100%}}@media (prefers-reduced-motion:no-preference){:where(html:focus-within){scroll-behavior:smooth}}:where(body){block-size:100%;block-size:100dvb;line-height:1.5;font-family:system-ui,sans-serif;-webkit-font-smoothing:antialiased}:where(input,button,textarea,select){font:inherit;color:inherit}:where(textarea){resize:vertical;resize:block}:where(button,label,select,summary,[role='button'],[role='option']){cursor:pointer}:where(:disabled){cursor:not-allowed}:where(label:has(>input:disabled),label:has(+input:disabled)){cursor:not-allowed}:where(button){border-style:solid}:where(a){text-underline-offset:.2ex}:where(ul,ol){list-style:none}:where(img,svg,video,canvas,audio,iframe,embed,object){display:block}:where(img,picture,svg){max-inline-size:100%;block-size:auto}:where(p,h1,h2,h3,h4,h5,h6){overflow-wrap:break-word}:where(h1,h2,h3){line-height:calc(1em + 0.5rem)}:where(hr){border:none;border-block-start:1px solid;color:inherit;block-size:0;overflow:visible}:where(:focus-visible){outline:2px solid var(--focus-color,Highlight);outline-offset:2px}:where(.visually-hidden:not(:focus,:active,:focus-within,.not-visually-hidden)){clip-path:inset(50%)!important;height:1px!important;width:1px!important;overflow:hidden!important;position:absolute!important;white-space:nowrap!important;border:0!important}",""]);const s=o},278(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,a,i){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(o[c]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&o[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),t.push(l))}},t}},3021(e){"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},8645(e){"use strict";e.exports=function(e){return e[1]}},5292(e){"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},o=[],s=0;s<e.length;s++){var c=e[s],u=r.base?c[0]+r.base:c[0],l=i[u]||0,d="".concat(u," ").concat(l);i[u]=l+1;var p=n(d),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var f=a(h,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:f,references:1})}o.push(d)}return o}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var i=r(e=e||[],a=a||{});return function(e){e=e||[];for(var o=0;o<i.length;o++){var s=n(i[o]);t[s].references--}for(var c=r(e,a),u=0;u<i.length;u++){var l=n(i[u]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}i=c}}},9383(e){"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9088(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},6884(e,t,n){"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},9893(e){"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},7997(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},4853(e,t,n){"use strict";e.exports=n.p+"a4ae41676b38aa60c300.png"},1909(e,t,n){"use strict";e.exports=n.p+"9597c5dc914b08bb9903.png"},8104(e,t,n){"use strict";e.exports=n.p+"7dd2902a4d6e58e96ab7.png"},3111(e,t,n){"use strict";e.exports=n.p+"1381b5da0bc6544d8c3d.png"},1150(e,t,n){"use strict";e.exports=n.p+"35b1130bb000ae5c032a.png"},2149(e,t,n){"use strict";e.exports=n.p+"526e8584a2e17fcba850.png"},3052(e,t,n){"use strict";e.exports=n.p+"627527bf42a9cec426ca.png"},3219(e,t,n){"use strict";e.exports=n.p+"7eb2752e94cefd4645bb.png"},1895(e,t,n){"use strict";e.exports=n.p+"2e065d910aebbd71a6de.png"},8025(e,t,n){"use strict";e.exports=n.p+"aeb578b8faa948f12684.png"},7023(e,t,n){"use strict";e.exports=n.p+"87776e85103f75a8a739.png"},7114(e){e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},9535(e,t,n){var r=n(9736);function a(){var t,n,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.toStringTag||"@@toStringTag";function c(e,a,i,o){var s=a&&a.prototype instanceof l?a:l,c=Object.create(s.prototype);return r(c,"_invoke",function(e,r,a){var i,o,s,c=0,l=a||[],d=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return i=e,o=0,s=t,p.n=n,u}};function h(e,r){for(o=e,s=r,n=0;!d&&c&&!a&&n<l.length;n++){var a,i=l[n],h=p.p,f=i[2];e>3?(a=f===r)&&(s=i[(o=i[4])?5:(o=3,3)],i[4]=i[5]=t):i[0]<=h&&((a=e<2&&h<i[1])?(o=0,p.v=r,p.n=i[1]):h<f&&(a=e<3||i[0]>r||r>f)&&(i[4]=e,i[5]=r,p.n=f,o=0))}if(a||e>1)return u;throw d=!0,r}return function(a,l,f){if(c>1)throw TypeError("Generator is already running");for(d&&1===l&&h(l,f),o=l,s=f;(n=o<2?t:s)||!d;){i||(o?o<3?(o>1&&(p.n=-1),h(o,s)):p.n=s:p.v=s);try{if(c=2,i){if(o||(a="next"),n=i[a]){if(!(n=n.call(i,s)))throw TypeError("iterator result is not an object");if(!n.done)return n;s=n.value,o<2&&(o=0)}else 1===o&&(n=i.return)&&n.call(i),o<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),o=1);i=t}else if((n=(d=p.n<0)?s:e.call(r,p))!==u)break}catch(e){i=t,o=1,s=e}finally{c=1}}return{value:n,done:d}}}(e,i,o),!0),c}var u={};function l(){}function d(){}function p(){}n=Object.getPrototypeOf;var h=[][o]?n(n([][o]())):(r(n={},o,function(){return this}),n),f=p.prototype=l.prototype=Object.create(h);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,r(e,s,"GeneratorFunction")),e.prototype=Object.create(f),e}return d.prototype=p,r(f,"constructor",p),r(p,"constructor",d),d.displayName="GeneratorFunction",r(p,s,"GeneratorFunction"),r(f),r(f,s,"Generator"),r(f,o,function(){return this}),r(f,"toString",function(){return"[object Generator]"}),(e.exports=a=function(){return{w:c,m}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},2507(e,t,n){var r=n(6313);e.exports=function(e,t,n,a,i){var o=r(e,t,n,a,i);return o.next().then(function(e){return e.done?e.value:o.next()})},e.exports.__esModule=!0,e.exports.default=e.exports},6313(e,t,n){var r=n(9535),a=n(3929);e.exports=function(e,t,n,i,o){return new a(r().w(e,t,n,i),o||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},3929(e,t,n){var r=n(7114),a=n(9736);e.exports=function e(t,n){function i(e,a,o,s){try{var c=t[e](a),u=c.value;return u instanceof r?n.resolve(u.v).then(function(e){i("next",e,o,s)},function(e){i("throw",e,o,s)}):n.resolve(u).then(function(e){c.value=e,o(c)},function(e){return i("throw",e,o,s)})}catch(e){s(e)}}var o;this.next||(a(e.prototype),a(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),a(this,"_invoke",function(e,t,r){function a(){return new n(function(t,n){i(e,r,t,n)})}return o=o?o.then(a,a):a()},!0)},e.exports.__esModule=!0,e.exports.default=e.exports},9736(e){function t(n,r,a,i){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}e.exports=t=function(e,n,r,a){function i(n,r){t(e,n,function(e){return this._invoke(n,r,e)})}n?o?o(e,n,{value:r,enumerable:!a,configurable:!a,writable:!a}):e[n]=r:(i("next",0),i("throw",1),i("return",2))},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r,a,i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},5315(e){e.exports=function(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},3051(e,t,n){var r=n(7114),a=n(9535),i=n(2507),o=n(6313),s=n(3929),c=n(5315),u=n(6961);function l(){"use strict";var t=a(),n=t.m(l),d=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function p(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))}var h={throw:1,return:2,break:3,continue:3};function f(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,h[e],t)},delegateYield:function(e,a,i){return t.resultName=a,n(r.d,u(e),i)},finish:function(e){return n(r.f,e)}},n=function(e,n,a){r.p=t.prev,r.n=t.next;try{return e(n,a)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(e.exports=l=function(){return{wrap:function(e,n,r,a){return t.w(f(e),n,r,a&&a.reverse())},isGeneratorFunction:p,mark:t.m,awrap:function(e,t){return new r(e,t)},AsyncIterator:s,async:function(e,t,n,r,a){return(p(t)?o:i)(f(e),t,n,r,a)},keys:c,values:u}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=l,e.exports.__esModule=!0,e.exports.default=e.exports},6961(e,t,n){var r=n(564).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(r(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},564(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1790(e,t,n){var r=n(3051)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="/drive-the-earth/",n.b="undefined"!=typeof document&&document.baseURI||self.location.href,n.nc=void 0,(()=>{"use strict";function e(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function t(t){return function(){var n=this,r=arguments;return new Promise(function(a,i){var o=t.apply(n,r);function s(t){e(o,a,i,s,c,"next",t)}function c(t){e(o,a,i,s,c,"throw",t)}s(void 0)})}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i=n(1790),o=n.n(i),s=function(){var e,r=null,i=null,s=null,c=null,u=null,l=null,d=new THREE.Texture,p=n(1480),h=n(3017),f=n(4199),m=n(843),v=n(900),b=n(8382),g=n(9138),w=n(2463),y=n(7789),x=n(363),E=n(7217),k=n(2323),T=n(6818),M=n(8447),L=n(5646),C=n(6443),V=n(4685),R=n(5273),S=n(6600),H=n(8063),z=n(2210),j=n(6673),_=n(5596),A=n(7652),P=n(3730),N=n(102),I=n(1e3),B=n(8221),G=n(6599),O=n(97),X=new THREE.GLTFLoader,W=new THREE.DRACOLoader;W.setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.3.6/"),W.preload(),X.setDRACOLoader(W);var F,U,D,$=!1,q=!1,Q=0,J=0,Y=0,K=0,Z=0,ee=!1,te=.1,ne=1,re=0,ae=0,ie=0,oe=new THREE.Clock,se=new THREE.Group,ce=new THREE.Group;se.add(ce),ce.rotation.set(Math.PI/4,0,0);var ue,le,de,pe,he,fe,me,ve,be,ge,we,ye,xe,Ee,ke,Te,Me,Le,Ce,Ve,Re,Se,He=[],ze=new THREE.Group,je=0,_e=0,Ae=0,Pe=new THREE.Vector3(0,0,0),Ne=new THREE.Vector3(_e,je,0),Ie=0,Be=new THREE.Vector3,Ge=new THREE.Vector3,Oe=new THREE.Quaternion,Xe=new THREE.Quaternion,We=new THREE.Vector3,Fe=new THREE.Vector3,Ue=0,De=[],$e=[],qe=10,Qe=0,Je=new THREE.WebGLCubeRenderTarget(256,{format:THREE.RGBFormat,generateMipmaps:!0,minFilter:THREE.LinearMipmapLinearFilter,encoding:THREE.sRGBEncoding}),Ye=new THREE.MeshBasicMaterial({side:THREE.DoubleSide,color:16777215,map:d}),Ke=new THREE.Scene,Ze=new THREE.CubeCamera(1,1e3,Je),et=new THREE.SphereGeometry(100,15,15),tt=new THREE.Mesh(et,Ye);tt.scale.set(-1,1,1),tt.rotation.set(Math.PI,-Math.PI/2,0),Ke.add(tt);var nt=document.createElement("div");nt.id="startView";var rt=document.createElement("div");rt.id="startViewFlash",nt.appendChild(rt);var at=document.createElement("div");at.id="startViewMain",nt.appendChild(at);var it=document.createElement("div");it.id="startViewMainInner",at.appendChild(it);var ot=document.createElement("div");ot.id="startViewTitle",it.appendChild(ot);var st=document.createElement("div");st.id="startViewTitleImage",ot.appendChild(st);var ct=document.createElement("div");ct.id="startViewTitleLogo",ot.appendChild(ct);var ut=document.createElement("div");ut.id="startViewExp1",ut.className="startViewExp",it.appendChild(ut);var lt=document.createElement("p");lt.className="startViewExpTitle",ut.appendChild(lt),lt.innerHTML="The earth is in danger.";var dt=document.createElement("p");dt.className="startViewExpText",ut.appendChild(dt),dt.innerHTML="Due to the expansion of the sun's weight,<br>the planets in our solar system are moving toward the earth.";var pt=document.createElement("div");pt.id="startViewExp2",pt.className="startViewExp",it.appendChild(pt);var ht=document.createElement("p");ht.className="startViewExpTitle",pt.appendChild(ht),ht.innerHTML="A 100,000 horsepower robot carries the earth.";var ft=document.createElement("p");dt.className="startViewExpText",pt.appendChild(ft),ft.innerHTML="Control the robot by operating the joystick.<br>When you press the joystick, the robot will move in the direction you are looking.";var mt=document.createElement("div");mt.id="startViewExp3",mt.className="startViewExp",it.appendChild(mt);var vt=document.createElement("p");vt.className="startViewExpTitle",mt.appendChild(vt),vt.innerHTML="We need renewable energy.";var bt=document.createElement("p");bt.className="startViewExpText",mt.appendChild(bt),bt.innerHTML="The robot needs renewable energy to keep moving. Energy boxes are generally scattered in the direction of travel, so pick them up as you go.";var gt=document.createElement("div");gt.id="startViewExp4",gt.className="startViewExp",it.appendChild(gt);var wt=document.createElement("p");wt.className="startViewExpTitle",gt.appendChild(wt),wt.innerHTML="Start where the sky is wide open!";var yt=document.createElement("p");yt.className="startViewExpText",gt.appendChild(yt),yt.innerHTML="The robot moves in the direction you sees. Therefore, it is much easier to operate the robot if you have a wide view of the sky. So go to a place where the sky is as wide as possible!";var xt=document.createElement("div");xt.id="startViewCarousel",it.appendChild(xt);var Et=document.createElement("div");Et.id="startViewCarouselItem0",Et.className="startViewCarouselItem active",xt.appendChild(Et);var kt=document.createElement("div");kt.id="startViewCarouselItem1",kt.className="startViewCarouselItem",xt.appendChild(kt);var Tt=document.createElement("div");Tt.id="startViewCarouselItem2",Tt.className="startViewCarouselItem",xt.appendChild(Tt);var Mt=document.createElement("div");Mt.id="startViewCarouselItem3",Mt.className="startViewCarouselItem",xt.appendChild(Mt);var Lt=document.createElement("div");Lt.id="startViewCarouselItem4",Lt.className="startViewCarouselItem",xt.appendChild(Lt);var Ct=function(e){var t=e.num,n=void 0===t?0:t,r=e.flip,a=void 0===r?null:r,i=0,o=n;switch(Et.classList.contains("active")&&(i=0),kt.classList.contains("active")&&(i=1),Tt.classList.contains("active")&&(i=2),Mt.classList.contains("active")&&(i=3),Lt.classList.contains("active")&&(i=4),"next"===a?o=i+1:"before"===a&&(o=i-1),Et.classList.remove("active"),kt.classList.remove("active"),Tt.classList.remove("active"),Mt.classList.remove("active"),Lt.classList.remove("active"),ot.style.display="none",ut.style.display="none",pt.style.display="none",mt.style.display="none",gt.style.display="none",o){case 0:default:Et.classList.add("active"),ot.style.display="block";break;case 1:kt.classList.add("active"),ut.style.display="block";break;case 2:Tt.classList.add("active"),pt.style.display="block";break;case 3:Mt.classList.add("active"),mt.style.display="block";break;case 4:Lt.classList.add("active"),gt.style.display="block"}};Et.addEventListener("touchstart",function(){Ct({num:0})}),kt.addEventListener("touchstart",function(){Ct({num:1})}),Tt.addEventListener("touchstart",function(){Ct({num:2})}),Mt.addEventListener("touchstart",function(){Ct({num:3})}),Lt.addEventListener("touchstart",function(){Ct({num:4})});var Vt=function(e){var t,n,r=e;r.addEventListener("touchstart",function(e){e.preventDefault(),t=e.touches[0].pageX}),r.addEventListener("touchmove",function(e){e.preventDefault(),n=e.changedTouches[0].pageX}),r.addEventListener("touchend",function(e){t>n&&t>n+30?(ee=!0,Ct({flip:"next"})):t<n&&t+30<n&&(ee=!0,Ct({flip:"before"}))})};Vt(ot),Vt(ut),Vt(pt),Vt(mt),Vt(gt);var Rt=document.createElement("div");Rt.id="startButton",Rt.innerHTML="START GAME",it.appendChild(Rt),document.body.appendChild(nt);var St=function(){q=!0,nt.style.display="none",Rt.removeEventListener("touchstart",St)};Rt.addEventListener("touchstart",St);var Ht=document.createElement("div");Ht.id="finishView";var zt=document.createElement("div");zt.id="finishViewMain",Ht.appendChild(zt);var jt=document.createElement("div");jt.id="finishViewTitle",zt.appendChild(jt);var _t=document.createElement("video");_t.id="finishViewVideo",_t.muted=!0,_t.autoplay=!0,_t.setAttribute("playsinline",""),_t.src=P,zt.appendChild(_t);var At=document.createElement("video");At.id="finishViewVideo2",At.muted=!0,At.loop=!0,At.autoplay=!1,At.setAttribute("playsinline",""),At.src=N,zt.appendChild(At);var Pt=document.createElement("div");Pt.id="finishViewTime",zt.appendChild(Pt);var Nt=document.createElement("div");Nt.id="finishViewTimeStage1",Nt.className="finishViewTimeStage",Pt.appendChild(Nt);var It=document.createElement("p");It.id="finishViewTimeStage1Title",It.className="finishViewTimeStageTitle",It.innerHTML="STAGE1",Nt.appendChild(It);var Bt=document.createElement("p");Bt.id="finishViewTimeStage1Num",Bt.className="finishViewTimeStageNum",Nt.appendChild(Bt);var Gt=document.createElement("div");Gt.id="finishViewTimeStage2",Gt.className="finishViewTimeStage",Pt.appendChild(Gt);var Ot=document.createElement("p");Ot.id="finishViewTimeStage2Title",Ot.className="finishViewTimeStageTitle",Ot.innerHTML="STAGE2",Gt.appendChild(Ot);var Xt=document.createElement("p");Xt.id="finishViewTimeStage2Num",Xt.className="finishViewTimeStageNum",Gt.appendChild(Xt);var Wt=document.createElement("div");Wt.id="finishViewTimeStage3",Wt.className="finishViewTimeStage",Pt.appendChild(Wt);var Ft=document.createElement("p");Ft.id="finishViewTimeStage3Title",Ft.className="finishViewTimeStageTitle",Ft.innerHTML="STAGE3",Wt.appendChild(Ft);var Ut=document.createElement("p");Ut.id="finishViewTimeStage3Num",Ut.className="finishViewTimeStageNum",Wt.appendChild(Ut);var Dt=document.createElement("p");Dt.id="finishViewTimeTitle",Dt.innerHTML="TOTAL",Pt.appendChild(Dt);var $t=document.createElement("p");$t.id="finishViewTimeNum",$t.innerHTML="00:00",Pt.appendChild($t);var qt=document.createElement("div");qt.id="finishViewCredit",zt.appendChild(qt);var Qt=document.createElement("p");Qt.innerHTML="Thanks to",qt.appendChild(Qt);var Jt=document.createElement("p");Jt.innerHTML="SFX: Music generated by Mubert https://mubert.com/render, sci-fi-alien-ufo-warble-86812.Pixabay.https://pixabay.com/sound-effects/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=music&amp;utm_content=86812, 森田交一.2010.戦闘19.https://maou.audio/se_battle19/, 森田交一.2010.マジカル07.https://maou.audio/se_magical07/    Textures: Chrisser.2012.Space Texture 011.https://www.flickr.com/photos/chrisser/7061563019,Digital Hourglass.Europa texture map by Digital Hourglass.https://static.wikia.nocookie.net/planet-texture-maps/images/9/91/Dh_europa_texture.png/revision/latest?cb=20211212221016, Solar System Scope.2014.https://www.solarsystemscope.com/textures/download/2k_mercury.jpg, Venus.https://static.wikia.nocookie.net/planet-texture-maps/images/1/19/Mars_Map.png/revision/latest?cb=20190402042909, NASA.2016.Map of Ganymede by Björn Jónsson and centered by J N Squire.jpg.https://commons.wikimedia.org/wiki/File:Map_of_Ganymede_by_Bj%C3%B6rn_J%C3%B3nsson_and_centered_by_J_N_Squire.jpg, A map of Callisto.https://bjj.mmedia.is/data/callisto/index.html",qt.appendChild(Jt);var Yt=document.createElement("div");zt.appendChild(Yt),Yt.id="continueButton",Yt.innerHTML="CONTINUE NEXT STAGE",document.body.appendChild(Ht);var Kt=document.createElement("div");Kt.id="failedView";var Zt=document.createElement("div");Zt.id="failedViewMain",Kt.appendChild(Zt);var en=document.createElement("div");en.id="failedViewTitle",Zt.appendChild(en);var tn=document.createElement("video");tn.id="failedViewVideo",tn.muted=!0,tn.autoplay=!0,tn.setAttribute("playsinline",""),tn.src=I,Zt.appendChild(tn);var nn=document.createElement("div");nn.id="restartButton",nn.innerHTML="RESTART",Zt.appendChild(nn),document.body.appendChild(Kt);var rn=document.createElement("div");document.body.appendChild(rn),rn.id="recenterButton";var an=document.createElement("div");rn.appendChild(an);var on=document.createElement("p");rn.appendChild(on),on.innerHTML="Recenter<br>Scene";var sn=function(){XR8.LayersController.recenter()};rn.addEventListener("touchstart",sn);var cn=document.createElement("div");cn.id="statusBar";var un=document.createElement("div");un.id="statusBarInner",cn.appendChild(un);var ln=document.createElement("div");ln.id="hpBar",ln.style.width="".concat(qe/20*100,"%"),un.appendChild(ln);var dn=document.createElement("div");dn.id="hpGet",un.appendChild(dn);var pn=document.createElement("div");function hn(e){for(var t=this,n=a(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],3),r=n[0],i=void 0===r?0:r,o=n[1],s=void 0===o?0:o,c=n[2],u=void 0===c?0:c,l=[],d=[],p=0;p<100;p++){var h=10*(Math.random()-.5),f=10*(Math.random()-.5),m=10*(Math.random()-.5);l.push(h,f,m),d.push(.1*h,.1*f,.1*m)}var v=new THREE.BufferGeometry;v.setAttribute("position",new THREE.Float32BufferAttribute(l,3));var b=new THREE.PointsMaterial({size:1,color:16777215});this.object=new THREE.Points(v,b),e.add(this.object),this.object.position.set(i,s,u),this.elapsed=0,this.explode=function(){if(t.elapsed>100)t.object.removeFromParent();else{t.elapsed+=1;for(var e=0;e<l.length;e+=3)t.object.geometry.attributes.position.array[e]+=d[e],t.object.geometry.attributes.position.array[e+1]+=d[e+1],t.object.geometry.attributes.position.array[e+2]+=d[e+2];t.object.geometry.attributes.position.needsUpdate=!0}}}function fn(e){for(var t=this,n=a(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],3),r=n[0],i=void 0===r?0:r,o=n[1],s=void 0===o?0:o,c=n[2],u=void 0===c?0:c,l=[],d=0;d<5;d++)for(var p=0;p<5;p++)for(var h=0;h<5;h++){var f=new THREE.BoxGeometry(3,3,3).translate(6*(d-2.5),6*(p-2.5),6*(h-2.5));l.push(f)}var m=THREE.BufferGeometryUtils.mergeBufferGeometries(l),v=new THREE.MeshNormalMaterial;v.transparent=!0,v.opacity=.7,this.object=new THREE.Mesh(m,v),(new THREE.FontLoader).load("//cdn.rawgit.com/mrdoob/three.js/r132/examples/fonts/droid/droid_sans_regular.typeface.json",function(n){var r=new THREE.TextGeometry("GOAL",{font:n,size:10,height:1});r.center();var a=new THREE.MeshBasicMaterial({color:"#ccc"}),o=new THREE.Mesh(r,a);o.position.set(0,20,0),o.scale.set(1,1,1),t.object.add(o),e.add(t.object),t.object.position.set(i,s,u),He.push([t.object,30,"goal",!1])}),this.heartbeat=function(){t.object.rotation.y-=.01}}pn.id="hpLost",un.appendChild(pn),document.body.appendChild(cn);var mn=function(e){if(e.children.length>0)for(var t=0;t<e.children.length;t++)mn(e.children[t]);e.isMesh&&(e.geometry.dispose(),e.material.dispose()),e.parent&&e.parent.remove(e)},vn=function(e){for(var t=0;t<e.children.length;t++)e.children[t].children.length>0&&vn(e.children[t]),e.children[t].isMesh&&(e.children[t].geometry.dispose(),e.children[t].material.dispose()),e.children[t].parent&&e.remove(e.children[t]);e.children.length>0&&vn(e)},bn=function(){var e=t(o().mark(function e(t){var n,r=arguments;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=r.length>1&&void 0!==r[1]?r[1]:R,X.load(n,function(e){var n=e.scene;t.add(n),n.scale.set(1,1,1);for(var r=0;r<n.children.length;r++){n.children[r].visible=!1;var a=n.children[r].position;switch(!0){case/goal.*/.test(n.children[r].name):$e.push(new fn(ce,[a.x,a.y,a.z]));break;case/point.*/.test(n.children[r].name):var i=Te.clone();ce.add(i),i.position.set(a.x,a.y,a.z),He.push([i,8,"point",!1]);break;case/asteroid.*/.test(n.children[r].name):var o=ue.clone();ce.add(o),o.position.set(a.x,a.y,a.z),He.push([o,15,"obstacle",!1]);break;case/asteroid2.*/.test(n.children[r].name):var s=le.clone();ce.add(s),s.position.set(a.x,a.y,a.z),He.push([s,30,"obstacle",!1]);break;case/calisto.*/.test(n.children[r].name):var c=de.clone();ce.add(c),c.position.set(a.x,a.y,a.z),He.push([c,12,"obstacle",!1]);break;case/europe.*/.test(n.children[r].name):var u=pe.clone();ce.add(u),u.position.set(a.x,a.y,a.z),He.push([u,7.5,"obstacle",!1]);break;case/ganymede.*/.test(n.children[r].name):var l=he.clone();ce.add(l),l.position.set(a.x,a.y,a.z),He.push([l,13,"obstacle",!1]);break;case/io.*/.test(n.children[r].name):var d=fe.clone();ce.add(d),d.position.set(a.x,a.y,a.z),He.push([d,9,"obstacle",!1]);break;case/jupiter.*/.test(n.children[r].name):var p=me.clone();ce.add(p),p.position.set(a.x,a.y,a.z),He.push([p,349.5,"obstacle",!1]);break;case/mars.*/.test(n.children[r].name):var h=ve.clone();ce.add(h),h.position.set(a.x,a.y,a.z),He.push([h,16.5,"obstacle",!1]);break;case/mercury.*/.test(n.children[r].name):var f=be.clone();ce.add(f),f.position.set(a.x,a.y,a.z),He.push([f,12,"obstacle",!1]);break;case/moon.*/.test(n.children[r].name):var m=ge.clone();ce.add(m),m.position.set(a.x,a.y,a.z),He.push([m,8.5,"obstacle",!1]);break;case/neptune.*/.test(n.children[r].name):var v=we.clone();ce.add(v),v.position.set(a.x,a.y,a.z),He.push([v,123,"obstacle",!1]);break;case/pluto.*/.test(n.children[r].name):var b=ye.clone();ce.add(b),b.position.set(a.x,a.y,a.z),He.push([b,5.5,"obstacle",!1]);break;case/saturn.*/.test(n.children[r].name):var g=xe.clone();ce.add(g),g.position.set(a.x,a.y,a.z),He.push([g,284,"obstacle",!1]);break;case/sun.*/.test(n.children[r].name):var w=(void 0).clone();ce.add(w),w.position.set(a.x,a.y,a.z),He.push([w,3480,"obstacle",!1]);break;case/uranus.*/.test(n.children[r].name):var y=Ee.clone();ce.add(y),y.position.set(a.x,a.y,a.z),He.push([y,67,"obstacle",!1]);break;case/venus.*/.test(n.children[r].name):var x=ke.clone();ce.add(x),x.position.set(a.x,a.y,a.z),He.push([x,30,"obstacle",!1])}}mn(n),$=!0});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),gn=function(){var e=t(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){J+=1,qe<20&&(ln.style.opacity=1,dn.style.display="block",dn.style.left="calc(".concat(qe/20*100,"% - 8px)"),dn.style.animation="getSlide 0.3s ease",setTimeout(function(){qe+=1,ln.style.width="".concat(qe/20*100,"%"),dn.style.display="none",dn.style.width="0",dn.style.left="0",ln.style.opacity=.5,e()},300))}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),wn=function(){var e=t(o().mark(function e(){var t,n,r=arguments;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],n=r.length>1&&void 0!==r[1]?r[1]:1,e.abrupt("return",new Promise(function(e){ln.style.opacity=1,qe-=n,pn.style.display="block",pn.style.left="calc(".concat(qe/20*100,"% - 8px)"),ln.style.width="".concat(qe/20*100,"%"),pn.style.animation="lostSlide 0.3s ease",t&&(cn.style.animation="lostShake 1s ease"),setTimeout(function(){pn.style.display="none",pn.style.width="0",pn.style.left="0",ln.style.opacity=.5,cn.style.animation=null},300)}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),yn=function(){switch(Le.stop(),Ve.isPlaying&&Ve.stop(),Ce.play(),$=!1,q=!1,Ht.style.display="block",Q){case 0:Y=J,J=0,Bt.innerHTML="".concat(Math.round(100*re)/100," (bonus:").concat(-Y,")"),$t.innerHTML=Math.round(100*(re-Y))/100,_t.play();break;case 1:K=J,J=0,Xt.innerHTML="".concat(Math.round(100*re)/100," (bonus:").concat(-K,")"),$t.innerHTML=Math.round(100*(re+ae-Y-K))/100,_t.play();break;case 2:case 5:Z=J,J=0,Ut.innerHTML="".concat(Math.round(100*ie)/100," (bonus:").concat(-Z,")"),$t.innerHTML=Math.round(100*(re+ae+ie-Y-K-Z))/100,Yt.innerHTML="RESTART GAME",zt.classList.add("finishAll"),At.play();break;case 3:Y=J,J=0,Bt.innerHTML="".concat(Math.round(100*re)/100," (bonus:").concat(-Y,")"),Xt.innerHTML="",Ut.innerHTML="",$t.innerHTML=Math.round(100*(re-Y))/100,Yt.innerHTML="CONTINUE NEXT STAGE",zt.classList.remove("finishAll"),_t.play();break;case 4:K=J,J=0,Xt.innerHTML="".concat(Math.round(100*ae)/100," (bonus:").concat(-K,")"),$t.innerHTML=Math.round(100*(re+ae-Y-K))/100,_t.play()}vn(ce),ce.position.set(0,0,0),ce.rotation.set(Math.PI/4,0,0),se.rotation.set(0,0,0),Q+=1},xn=function(){var e=t(o().mark(function e(){var t,n,r;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=XR8.Threejs.xrScene(),n=t.scene,t.camera,t.renderer,r=Q,e.next=1===r?1:2===r?3:3===r?5:4===r?7:5===r?9:11;break;case 1:return e.next=2,bn(n,S);case 2:return e.abrupt("continue",13);case 3:return te=.5,e.next=4,bn(n,H);case 4:return e.abrupt("continue",13);case 5:return te=.5,e.next=6,bn(n,R);case 6:return re=0,ae=0,ie=0,e.abrupt("continue",13);case 7:return e.next=8,bn(n,S);case 8:return e.abrupt("continue",13);case 9:return te=1,e.next=10,bn(n,H);case 10:return e.abrupt("continue",13);case 11:return te=.1,e.next=12,bn(n,R);case 12:return e.abrupt("continue",13);case 13:sn(),Ce.stop(),Le.play(),q=!0,Ht.style.display="none";case 14:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Yt.addEventListener("touchstart",xn);var En=function(){var e=t(o().mark(function e(){var t,n,r;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=XR8.Threejs.xrScene(),n=t.scene,t.camera,t.renderer,r=Q,e.next=0===r?1:1===r?3:2===r?5:3===r?7:4===r?9:5===r?11:13;break;case 1:return e.next=2,bn(n,R);case 2:return e.abrupt("continue",15);case 3:return e.next=4,bn(n,S);case 4:return e.abrupt("continue",15);case 5:return e.next=6,bn(n,H);case 6:return e.abrupt("continue",15);case 7:return e.next=8,bn(n,R);case 8:return e.abrupt("continue",15);case 9:return e.next=10,bn(n,S);case 10:return e.abrupt("continue",15);case 11:return e.next=12,bn(n,H);case 12:return e.abrupt("continue",15);case 13:return e.next=14,bn(n,R);case 14:return e.abrupt("continue",15);case 15:sn(),Ce.stop(),Le.play(),qe=9,gn(),q=!0,Kt.style.display="none";case 16:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();nn.addEventListener("touchstart",En);var kn=function(){var e=t(o().mark(function e(n){var r,a,i,s,c,u,l,d,S,H,P,N,I,W,U,$,q,Q,J,Y,K,Z,te,ne,re,ae,ie;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.scene,a=n.camera,i=n.renderer,s=function(){var e=t(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var t=new THREE.AudioListener;a.add(t);var n=new THREE.AudioLoader;Le=new THREE.Audio(t),n.load(_,function(e){Le.setBuffer(e),Le.setLoop(!0),Le.setVolume(.03),Le.play()}),Ce=new THREE.Audio(t),n.load(A,function(e){Ce.setBuffer(e),Ce.setLoop(!1),Ce.setVolume(.03)}),Ve=new THREE.Audio(t),n.load(B,function(e){Ve.setBuffer(e),Ve.setLoop(!0),Ve.setVolume(.04)}),Re=new THREE.Audio(t),n.load(G,function(e){Re.setBuffer(e),Re.setLoop(!1),Re.setVolume(.2)}),Se=new THREE.Audio(t),n.load(O,function(e){Se.setBuffer(e),Se.setLoop(!1),Se.setVolume(.05)}),e()}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),e.next=1,s();case 1:return i.outputEncoding=THREE.sRGBEncoding,r.add(new THREE.AmbientLight(4210752,7)),c=new THREE.SphereGeometry(1e3,16,12),u=new THREE.TextureLoader,(l=u.load(p)).encoding=THREE.sRGBEncoding,l.mapping=THREE.EquirectangularReflectionMapping,d=new THREE.MeshBasicMaterial({map:l}),(D=new THREE.Mesh(c,d)).material.side=THREE.BackSide,r.add(D),D.visible=!0,setTimeout(function(){rt.style.display="none",at.style.display="block",setTimeout(function(){ee||Ct({flip:"next"}),setTimeout(function(){ee||Ct({flip:"next"}),setTimeout(function(){ee||Ct({flip:"next"}),setTimeout(function(){ee||Ct({flip:"next"}),setTimeout(function(){Rt.style.animation="attention 1s ease infinite"},4e3)},4e3)},4e3)},4e3)},4e3)},4e3),document.addEventListener("joystickmove",function(e){je=e.detail.x/35,_e=e.detail.y/35,Ae=1}),document.addEventListener("joystickend",function(e){je=0,_e=0,Ae=0}),S=function(){var e=t(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){X.load(V,function(t){t.scene.traverse(function(e){e.isMesh&&(e.material.envMap=Ze.renderTarget.texture)}),(Te=t.scene).castShadow=!0,Te.scale.set(.5,.5,.5),e()})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),H=function(){var e=t(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){X.load(h,function(t){(ue=t.scene).castShadow=!0,ue.scale.set(1,1,1),e()})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),P=function(){var e=t(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){X.load(f,function(t){(le=t.scene).castShadow=!0,le.scale.set(1,1,1),e()})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),N=function(){var e=t(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){X.load(m,function(t){(de=t.scene).castShadow=!0,de.scale.set(1,1,1),e()})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=t(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){X.load(v,function(t){(pe=t.scene).castShadow=!0,pe.scale.set(1,1,1),e()})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=t(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){X.load(b,function(t){(he=t.scene).castShadow=!0,he.scale.set(1,1,1),e()})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),U=function(){var e=t(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){X.load(g,function(t){(fe=t.scene).castShadow=!0,fe.scale.set(1,1,1),e()})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),$=function(){var e=t(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){X.load(w,function(t){(me=t.scene).castShadow=!0,me.scale.set(1,1,1),e()})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),q=function(){var e=t(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){X.load(y,function(t){(ve=t.scene).castShadow=!0,ve.scale.set(1,1,1),e()})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=t(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){X.load(x,function(t){(be=t.scene).castShadow=!0,be.scale.set(1,1,1),e()})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),J=function(){var e=t(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){X.load(E,function(t){(ge=t.scene).castShadow=!0,ge.scale.set(1,1,1),e()})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=t(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){X.load(k,function(t){(we=t.scene).castShadow=!0,we.scale.set(1,1,1),e()})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),K=function(){var e=t(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){X.load(T,function(t){(ye=t.scene).castShadow=!0,ye.scale.set(1,1,1),e()})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=t(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){X.load(M,function(t){(xe=t.scene).castShadow=!0,xe.scale.set(1,1,1),e()})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),te=function(){var e=t(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){X.load(L,function(t){(Ee=t.scene).castShadow=!0,Ee.scale.set(1,1,1),e()})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=t(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){X.load(C,function(t){(ke=t.scene).castShadow=!0,ke.scale.set(1,1,1),e()})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),re=function(){var e=t(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){X.load(z,function(t){ze.add(t.scene),r.add(ze),e()})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=t(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){X.load(j,function(t){Me=t.scene;var n=t.animations;(F=new THREE.AnimationMixer(Me)).clipAction(n[0]).play(),Me.scale.set(.1,.1,.1),Me.rotation.set(Math.PI/4,Math.PI,0),Me.position.set(0,0,-1),ze.add(Me),e()})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=t(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){Promise.all([S(),H(),P(),N(),I(),W(),U(),$(),q(),Q(),J(),Y(),K(),Z(),te(),ne(),re(),ae()]).then(function(){e()})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),e.next=2,ie();case 2:return e.next=3,bn(r,R);case 3:r.add(se);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Tn=function(){if($){var t=e.quaternion;Xe.copy(t);var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e-4;Be.set(_e,je,0),Be.applyQuaternion(t);var n=Math.abs(je)+Math.abs(_e)/2;Math.sign(Ne.x)!==Math.sign(Be.x)||Math.sign(Ne.y)!==Math.sign(Be.y)||Math.sign(Ne.z)!==Math.sign(Be.z)?Ie>.05&&(Ie-=.01):Ie<10&&(Ie+=n*e*ne),Be.multiplyScalar(.05),Ne.add(Be),Ne.normalize(),Oe.setFromAxisAngle(Ne,-Math.PI/18*Ie),Xe.multiply(Oe)},r=function(){Pe.multiplyScalar(.5),Be.set(.3*-je,.3*_e,0),Pe.add(Be),e.getWorldDirection(Ge).negate(),Pe.add(Ge),se.getWorldQuaternion(Oe).invert(),Pe.applyQuaternion(Oe)},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.01;Ie>e?Ie-=e:(Ie=0,Ne.set(0,0,0))};0!==Ae&&e?(Ve.isPlaying||Ve.play(),Math.abs(_e)>.9||Math.abs(je)>.9?(n(.001),r()):Math.abs(_e)>.1||Math.abs(je)>.1?(n(5e-4),r()):(a(.01),r())):(Ve.isPlaying&&Ve.stop(),a(.005),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.01;Pe.length()>e?Pe.multiplyScalar(1-e):Pe.set(0,0,0)}(.01)),se.rotateOnWorldAxis(Ne,Math.PI/180*Ie),ze.quaternion.slerp(Xe,.04),Math.abs(Me.rotation.z)<Math.abs(je)?Me.rotation.z+=.05*je:Math.abs(Me.rotation.z)>Math.abs(je)+.1||Math.sign(Me.rotation.z)!==Math.sign(je)&&Math.abs(je)>.2?Me.rotation.z>0?Me.rotation.z-=.2:Me.rotation.z+=.2:Math.abs(je)<.1&&(Me.rotation.z=0);var i=Me.rotation.x;Math.abs(i)<Math.abs(_e)?Me.rotation.x-=.1*_e:Math.abs(i)>Math.abs(_e)+.1||Math.sign(i)===Math.sign(_e)&&Math.abs(_e)>.1?i>0?Me.rotation.x-=.1:Me.rotation.x+=.1:Math.abs(i)<.1&&(Me.rotation.x=0),ce.position.add(Pe.clone().multiplyScalar(.2*ne)),$&&(ne=U/.033,F.update(U))}},Mn=function(e){var t=e.videoWidth,n=e.videoHeight,a=e.canvasWidth,o=e.canvasHeight,l=e.GLctx;r=XR8.GlTextureRenderer.create({GLctx:l,toTexture:{width:a,height:o},flipY:!1}),i=a,s=o,c=t,u=n};return{name:"sky-scene",onStart:function(t){t.canvas;var n=XR8.Threejs.xrScene(),r=n.layerScenes,a=n.camera,i=n.renderer;e=a,kn({scene:r.sky.scene,camera:a,renderer:i}),i.setAnimationLoop(Tn),a.position.set(0,0,0),XR8.LayersController.configure({coordinates:{origin:{position:a.position,rotation:a.quaternion}}})},onDeviceOrientationChange:function(e){var t=e.videoWidth,n=e.videoHeight,r=e.GLctx;Mn({videoWidth:t,videoHeight:n,canvasWidth_:i,canvasHeight_:s,GLctx:r})},onVideoSizeChange:function(e){var t=e.videoWidth,n=e.videoHeight,r=e.canvasWidth,a=e.canvasHeight,i=e.GLctx;Mn({videoWidth:t,videoHeight:n,canvasWidth:r,canvasHeight:a,GLctx:i})},onCanvasSizeChange:function(e){var t=e.GLctx,n=(e.computeCtx,e.videoWidth),r=e.videoHeight,a=e.canvasWidth,i=e.canvasHeight;Mn({videoWidth:n,videoHeight:r,canvasWidth:a,canvasHeight:i,GLctx:t})},onUpdate:function(t){var n=t.processCpuResult,a=XR8.Threejs.xrScene(),o=a.scene,d=(a.camera,a.renderer);U=oe.getDelta(),++Ue%5==0&&Ze.update(d,Ke);var p=n.reality;if(p&&(l.__webglTexture=r.render({renderTexture:p.realityTexture,viewport:XR8.GlTextureRenderer.fillTextureViewport(c,u,i,s)})),q&&$){switch(Q){case 0:case 3:re+=U;break;case 1:case 4:ae+=U;break;case 2:case 5:ie+=U}if((Qe+=U)>=4&&(wn(),Qe=0),qe<=0&&(Le.stop(),Ve.isPlaying&&Ve.stop(),Ce.play(),$=!1,q=!1,Kt.style.display="block",tn.play(),vn(ce),ce.position.set(0,0,0),ce.rotation.set(Math.PI/4,0,0),se.rotation.set(0,0,0)),Fe.set(0,-te,te),ce.position.add(Fe),He.length>1)for(var h=0;h<He.length;h++)He[h][3]||(He[h][0].getWorldPosition(Be),Be.distanceTo(We)<He[h][1]&&("point"===He[h][2]?(ne<1.2&&(e.getWorldDirection(Ge).multiplyScalar(10),De.push(new hn(o,[Ge.x,Ge.y,Ge.z]))),He[h][0].removeFromParent(),Re.isPlaying&&Re.stop(),Re.play(),gn()):"obstacle"===He[h][2]?(Se.play(),wn({shake:!0,point:2})):"goal"===He[h][2]&&(Re.isPlaying&&Re.stop(),Re.play(),yn()),He[h][3]=!0));for(var f=0;f<De.length;f++)De[f].elapsed>101?De.splice(f,1):De[f].explode();for(var m=0;m<$e.length;m++)$e[m].heartbeat()}},onProcessCpu:function(e){var t=e.frameStartResult.cameraTexture,n=XR8.Threejs.xrScene(),r=(n.scene,n.camera,n.renderer);(l=r.properties.get(d)).__webglTexture=t},listeners:[{event:"layerscontroller.layerfound",process:function(e){var t=e.detail;"sky"===(null==t?void 0:t.name)&&XR8.LayersController.recenter()}}]}},c=function(){var e,t,n,r=document.createElement("div");r.id="joystick",r.className="joystick";var a=document.createElement("div");a.id="joystick-frame",a.className="joystick-frame",r.appendChild(a);var i=document.createElement("div");i.id="joystick-ball",i.className="joystick-ball",a.appendChild(i),document.body.appendChild(r);var o=function(r){r.preventDefault(),clearInterval(n);var a,o,s=r.touches[0].pageX,c=r.touches[0].pageY;a=Math.abs(s-e)<35?s-e:s-e>0?35:-35,o=Math.abs(c-t)<35?c-t:c-t>0?35:-35,i.style.left="calc(50% + ".concat(a,"px)"),i.style.top="calc(50% + ".concat(o,"px)");var u=new THREE.Vector2(a,o),l=new CustomEvent("joystickmove",{detail:u});n=setInterval(function(){document.dispatchEvent(l)},25)},s=function(){i.style.top="50%",i.style.left="50%",clearInterval(n);var e=new Event("joystickend");document.dispatchEvent(e)};return{name:"joy-stick",onStart:function(n){n.canvas,e=i.getBoundingClientRect().left+i.clientWidth/2,t=i.getBoundingClientRect().top+i.clientHeight/2,r.addEventListener("touchstart",function(e){e.preventDefault()}),r.addEventListener("touchmove",function(e){e.preventDefault()}),i.addEventListener("touchstart",o),i.addEventListener("touchmove",o),i.addEventListener("touchend",s),window.addEventListener("resize",function(){e=i.getBoundingClientRect().left+i.clientWidth/2,t=i.getBoundingClientRect().top+i.clientHeight/2})}}},u=n(5292),l=n.n(u),d=n(9893),p=n.n(d),h=n(9383),f=n.n(h),m=n(6884),v=n.n(m),b=n(9088),g=n.n(b),w=n(7997),y=n.n(w),x=n(9472),E={};E.styleTagTransform=y(),E.setAttributes=v(),E.insert=f().bind(null,"head"),E.domAPI=p(),E.insertStyleElement=g(),l()(x.A,E),x.A&&x.A.locals&&x.A.locals;var k=n(7609),T={};T.styleTagTransform=y(),T.setAttributes=v(),T.insert=f().bind(null,"head"),T.domAPI=p(),T.insertStyleElement=g(),l()(k.A,T),k.A&&k.A.locals&&k.A.locals,SkyCoachingOverlay.configure({animationColor:"#fff",promptText:"Look up in the sky and operate robot!"});var M=function(){XR8.addCameraPipelineModules([XR8.CameraPixelArray.pipelineModule({luminance:!1}),XR8.GlTextureRenderer.pipelineModule(),XR8.Threejs.pipelineModule(),window.LandingPage.pipelineModule(),XRExtras.FullWindowCanvas.pipelineModule(),XRExtras.Loading.pipelineModule(),XRExtras.RuntimeError.pipelineModule(),XR8.LayersController.pipelineModule(),SkyCoachingOverlay.pipelineModule(),s(),c()]),XR8.LayersController.configure({nearClip:.1,farClip:1e3,layers:{sky:{invertLayerMask:!1}}}),XR8.Threejs.configure({layerScenes:["sky"]}),document.body.insertAdjacentHTML("beforeend",'\n    <canvas id="camera" width="'.concat(window.innerWidth,'" height="').concat(window.innerHeight,'"></canvas>\n  ')),XR8.run({canvas:document.getElementById("camera"),verbose:!0})};window.XR8?M():window.addEventListener("xrloaded",M);var L=function(){XRExtras.Loading.showLoading();var e=document.getElementById("loadImage");e&&(e.src=n(9404))};window.XRExtras?L():window.addEventListener("xrextrasloaded",L)})()})();